enemy_group = pygame.sprite.Group()

# â–¼ 5ê°œ ë˜¥ ëœë¤ ìƒì„±
for i in range(5):
    x = random.randint(0, WIDTH - 40)
    y = random.randint(0, HEIGHT - 40)
    enemy = Enemy(x, y)
    enemy_group.add(enemy)
    all_sprites.add(enemy)



#ê¸ˆìƒ‰ì‚¬ê³¼ ì¶”ê°€
# â–¼ ì‚¬ê³¼ ì´ë¯¸ì§€ ë‘ ì¢…ë¥˜ ì¶”ê°€
apple_red = pygame.transform.scale(pygame.image.load("apple.png"), (40, 40))
apple_gold = pygame.transform.scale(pygame.image.load("gold_apple.png"), (40, 40))

# â–¼ spawn_apple í•¨ìˆ˜ ìˆ˜ì •
def spawn_apple():
    side = random.choice(["left", "right", "top", "bottom"])
    size = 40

    if side == "left":
        x = -size
        y = random.randint(0, HEIGHT - size)
        vx = random.randint(2, 4)
        vy = random.randint(-2, 2)
    elif side == "right":
        x = WIDTH
        y = random.randint(0, HEIGHT - size)
        vx = -random.randint(2, 4)
        vy = random.randint(-2, 2)
    elif side == "top":
        x = random.randint(0, WIDTH - size)
        y = -size
        vx = random.randint(-2, 2)
        vy = random.randint(2, 4)
    else:
        x = random.randint(0, WIDTH - size)
        y = HEIGHT
        vx = random.randint(-2, 2)
        vy = -random.randint(2, 4)

    rect = pygame.Rect(x, y, size, size)

    # ğŸ¯ 10% í™•ë¥ ë¡œ ê¸ˆì‚¬ê³¼ ìƒì„±
    if random.random() < 0.1:
        apples.append({"rect": rect, "vx": vx, "vy": vy, "type": "gold"})
    else:
        apples.append({"rect": rect, "vx": vx, "vy": vy, "type": "red"})


#ì¶©ëŒìˆ˜ì •
for apple in apples:
    rect = apple["rect"]
    vx = apple["vx"]
    vy = apple["vy"]
    apple_type = apple["type"]    # â† ì‚¬ê³¼ ì¢…ë¥˜ ê°€ì ¸ì˜¤ê¸°

    rect.x += vx
    rect.y += vy

    if rect.right < 0 or rect.left > WIDTH or rect.bottom < 0 or rect.top > HEIGHT:
        continue

    # ğŸ¯ í”Œë ˆì´ì–´ê°€ ì‚¬ê³¼ ë¨¹ìŒ
    if player.rect.colliderect(rect):
        if apple_type == "red":
            score += 1        # ë¹¨ê°„ ì‚¬ê³¼
        else:
            score += 3        # ê¸ˆ ì‚¬ê³¼
        continue

    new_apples.append(apple)


#ê·¸ë¦¬ê¸° ìˆ˜ì •
for apple in apples:
    if apple["type"] == "red":
        screen.blit(apple_red, apple["rect"])
    else:
        screen.blit(apple_gold, apple["rect"])

